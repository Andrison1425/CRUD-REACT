(this.webpackJsonpredux1=this.webpackJsonpredux1||[]).push([[0],{48:function(e,t,r){},73:function(e,t,r){"use strict";r.r(t);var c=r(1),n=r(0),o=r(19),a=r.n(o),s=(r(48),r(11)),i=function(){return Object(c.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-primary justify-content-between",children:[Object(c.jsx)("div",{className:"contaienr",children:Object(c.jsx)("h1",{children:Object(c.jsx)(s.b,{to:"/CRUD-REACT/",className:"text-light",children:"CRUD - React, Redux, REST API"})})}),Object(c.jsx)(s.b,{className:"btn btn-danger nuevo-post d-block d-md-inline-block",to:"/CRUD-REACT/productos/nuevo",children:"Agregar Producto +"})]})},u=r(4),d=r(5),b=r(12),l=r.n(b),j=r(18),p="AGREGAR_PRODUCTO",O="AGREGAR_PRODUCTO_EXITO",m="AGREGAR_PRODUCTO_ERROR",h="COMENZAR_DESCARGA_PRODUCTOS",x="DESCARGA_PRODUCTOS_EXITO",f="PRODUCTO_ELIMINAR",v="PRODUCTO_ELIMINAR_EXITO",y="OBTENER_PRODUCTO_EDITAR",g="PRODUCTO_EDITAR_EXITO",E=r(23),N=r.n(E),R=r(39),C=r.n(R).a.create({baseURL:"https://my-json-server.typicode.com/Andrison1425/FakeServer/"});var T=function(){return{type:p}},A=function(e){return{type:O,payload:e}},D=function(e){return{type:m,payload:e}},_=function(){return{type:h}},P=function(e){return{type:x,payload:e}},w=function(e){return{type:f,payload:e}},U=function(){return{type:v}},k=function(e){return{type:y,payload:e}},I=function(e){return{type:g,payload:e}},S=function(e){var t=e.producto,r=t.nombre,n=t.precio,o=t.id,a=Object(d.b)(),i=function(){a(function(e){return console.log(e),function(){var t=Object(j.a)(l.a.mark((function t(r){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r(w(e));try{r(U())}catch(c){}case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(o))};return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:r}),Object(c.jsx)("td",{children:n}),Object(c.jsxs)("td",{className:"acciones",children:[Object(c.jsx)(s.b,{to:"/CRUD-REACT/productos/editar/".concat(o),className:"btn btn-primary mr-2",onClick:function(){return a(function(e){return function(t){t(k(e))}}(t))},children:"Editar"}),Object(c.jsx)("button",{type:"button",className:"btn btn-danger",onClick:function(){return i()},children:"Eliminar"})]})]},o)},G=function(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e.productos.productos}));Object(n.useEffect)((function(){e(function(e){return function(){var t=Object(j.a)(l.a.mark((function t(r){var c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r(_()),t.prev=1,c="",0!==e.length){t.next=10;break}return t.next=6,C.get("/productos",{responseType:"json"});case 6:c=(c=t.sent).data,t.next=11;break;case 10:c=e;case 11:r(P(c)),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(1),console.log(t.t0);case 17:case"end":return t.stop()}}),t,null,[[1,14]])})));return function(e){return t.apply(this,arguments)}}()}(t))}),[]);var r=Object(d.c)((function(e){return e.productos})),o=r.productos,a=r.loading;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("h2",{className:"text-center my-5",children:"Listado Productos"}),Object(c.jsxs)("table",{className:"table table--striped",children:[Object(c.jsx)("thead",{className:"bg-primary table-dark",children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{scope:"col",children:"Nombre"}),Object(c.jsx)("th",{scope:"col",children:"Precio"}),Object(c.jsx)("th",{scope:"col",children:"Acciones"})]})}),Object(c.jsxs)("tbody",{children:[0===o.length?Object(c.jsx)("tr",{children:Object(c.jsx)("td",{children:"No hay productos"})}):o.map((function(e){return Object(c.jsx)(S,{producto:e},e.id)})),a?Object(c.jsx)("tr",{children:Object(c.jsx)("td",{children:"Cargando..."})}):null]})]})]})},X=r(15),L=r(3),q=r(22),M=function(e){var t=e.history,r=Object(n.useState)({nombre:"",precio:0,id:Math.random()}),o=Object(q.a)(r,2),a=o[0],s=o[1],i=Object(d.c)((function(e){return e.productos.loading})),u=Object(d.c)((function(e){return e.productos.error})),b=function(e){s(Object(L.a)(Object(L.a)({},a),{},Object(X.a)({},e.target.name,e.target.value)))},p=Object(d.b)();return Object(c.jsx)("div",{className:"row justify-content-center",children:Object(c.jsx)("div",{className:"col-md-8",children:Object(c.jsx)("div",{className:"card",children:Object(c.jsxs)("div",{className:"card-body",children:[Object(c.jsx)("h2",{className:"text-center mb-4 font-weight-bold",children:"Agregar Nuevo Producto"}),Object(c.jsxs)("form",{onSubmit:function(e){var r;(e.preventDefault(),""===a.nombre.trim()||a.precio<=0)||(p((r=a,function(){var e=Object(j.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(T()),e.prev=1,e.next=4,C.post("/productos",r);case 4:e.sent,t(A(r)),N.a.fire("Correcto","El producto se agreg\xf3","success"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),t(D(!0)),N.a.fire({icon:"error",title:"Error",text:"Hubo un error"});case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}())),t.push("/CRUD-REACT/"))},children:[Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{children:"Nombre Producto"}),Object(c.jsx)("input",{type:"text",className:"form-control",placeholder:"Nombre Producto",name:"nombre",onChange:b,value:a.name,required:!0})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{children:"Precio Producto"}),Object(c.jsx)("input",{type:"number",className:"form-control",placeholder:"Precio Producto",onChange:b,name:"precio",value:a.precio,required:!0})]}),Object(c.jsx)("button",{type:"submit",className:"btn btn-primary font-weight-bold text-uppercase d-block w-100",children:"Agregar"})]}),!0===i?"Cargando...":null,!0===u?Object(c.jsx)("p",{className:"alert alert-danger p2 mt-4 text-center",children:"Hubo un error"}):null]})})})})},B=function(){var e=Object(u.g)().id,t=Object(d.c)((function(e){return e.productos.productoEditar})),r=Object(d.b)(),o=Object(n.useState)({nombre:t.nombre,precio:t.precio,id:e}),a=Object(q.a)(o,2),s=a[0],i=a[1],b=function(e){i(Object(L.a)(Object(L.a)({},s),{},Object(X.a)({},e.target.name,e.target.value)))};return Object(c.jsx)("div",{className:"row justify-content-center",children:Object(c.jsx)("div",{className:"col-md-8",children:Object(c.jsx)("div",{className:"card",children:Object(c.jsxs)("div",{className:"card-body",children:[Object(c.jsx)("h2",{className:"text-center mb-4 font-weight-bold",children:"Editar Producto"}),Object(c.jsxs)("form",{onSubmit:function(e){e.preventDefault(),r(function(e){return function(){var t=Object(j.a)(l.a.mark((function t(r){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{r(I(e)),N.a.fire("Correcto","El producto se edit\xf3","success")}catch(c){}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(s))},children:[Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{children:"Nombre Producto"}),Object(c.jsx)("input",{type:"text",className:"form-control",placeholder:"Nombre Producto",name:"nombre",onChange:b,required:!0,value:s.nombre})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{children:"Precio Producto"}),Object(c.jsx)("input",{type:"number",onChange:b,className:"form-control",placeholder:"Precio Producto",name:"precio",value:Number(s.precio),required:!0})]}),Object(c.jsx)("button",{type:"submit",className:"btn btn-primary font-weight-bold text-uppercase d-block w-100",children:"Guardar Cambios"})]})]})})})})},F=r(13),H=r(40),J=r(41),V={productos:[],error:!1,loading:!1,idEliminar:null,productoEditar:null};var Z=Object(F.c)({productos:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:case h:return Object(L.a)(Object(L.a)({},e),{},{loading:!0});case O:return Object(L.a)(Object(L.a)({},e),{},{loading:!1,productos:[].concat(Object(J.a)(e.productos),[t.payload])});case m:return Object(L.a)(Object(L.a)({},e),{},{loading:!1,error:t.payload});case x:return Object(L.a)(Object(L.a)({},e),{},{productos:t.payload,loading:!1});case f:return Object(L.a)(Object(L.a)({},e),{},{idEliminar:t.payload});case v:return Object(L.a)(Object(L.a)({},e),{},{productos:e.productos.filter((function(t){return t.id!==e.idEliminar}))});case y:return Object(L.a)(Object(L.a)({},e),{},{productoEditar:t.payload});case g:return Object(L.a)(Object(L.a)({},e),{},{productos:e.productos.map((function(e){return Number(e.id)===Number(t.payload.id)?t.payload:e})),productoEditar:null});default:return e}}}),z=Object(F.e)(Z,Object(F.d)(Object(F.a)(H.a),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())),K=r(42),Q=function(e){var t=e.component,r=Object(K.a)(e,["component"]);return Object(d.c)((function(e){return e.productos.productoEditar}))?Object(c.jsx)(u.b,Object(L.a)(Object(L.a)({},r),{},{component:t})):Object(c.jsx)(u.a,{to:"/CRUD-REACT/"})};var W=function(){return Object(c.jsx)(s.a,{children:Object(c.jsxs)(d.a,{store:z,children:[Object(c.jsx)(i,{}),Object(c.jsx)("div",{className:"container mt-5",children:Object(c.jsxs)(u.d,{children:[Object(c.jsx)(u.b,{exact:!0,path:"/CRUD-REACT/",component:G}),Object(c.jsx)(u.b,{exact:!0,path:"/CRUD-REACT/productos/nuevo",component:M}),Object(c.jsx)(Q,{exact:!0,path:"/CRUD-REACT/productos/editar/:id",component:B})]})})]})})};a.a.render(Object(c.jsx)(W,{}),document.getElementById("root"))}},[[73,1,2]]]);
//# sourceMappingURL=main.85ef117d.chunk.js.map