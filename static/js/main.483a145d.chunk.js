(this.webpackJsonpredux1=this.webpackJsonpredux1||[]).push([[0],{38:function(e,t,r){},45:function(e,t,r){"use strict";r.r(t);var c=r(1),n=r(0),o=r(18),a=r.n(o),s=(r(38),r(10)),i=function(){return Object(c.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-primary justify-content-between",children:[Object(c.jsx)("div",{className:"contaienr",children:Object(c.jsx)("h1",{children:Object(c.jsx)(s.b,{to:"/",className:"text-light",children:"CRUD - React, Redux, REST API"})})}),Object(c.jsx)(s.b,{className:"btn btn-danger nuevo-post d-block d-md-inline-block",to:"/productos/nuevo",children:"Agregar Producto +"})]})},u=r(4),d=r(5),b=r(11),l=r.n(b),j=r(17),p="AGREGAR_PRODUCTO",O="AGREGAR_PRODUCTO_EXITO",m="AGREGAR_PRODUCTO_ERROR",h="COMENZAR_DESCARGA_PRODUCTOS",f="DESCARGA_PRODUCTOS_EXITO",x="PRODUCTO_ELIMINAR",v="PRODUCTO_ELIMINAR_EXITO",y="OBTENER_PRODUCTO_EDITAR",E="PRODUCTO_EDITAR_EXITO",N=r(22),g=r.n(N);var R=function(){return{type:p}},C=function(e){return{type:O,payload:e}},T=function(e){return{type:m,payload:e}},A=function(){return{type:h}},P=function(e){return{type:f,payload:e}},D=function(e){return{type:x,payload:e}},_=function(){return{type:v}},w=function(e){return{type:y,payload:e}},U=function(e){return{type:E,payload:e}},k=function(e){var t=e.producto,r=t.nombre,n=t.precio,o=t.id,a=Object(d.b)(),i=function(){a(function(e){return console.log(e),function(){var t=Object(j.a)(l.a.mark((function t(r){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r(D(e)),t.prev=1,t.next=4,fetch("https://my-json-server.typicode.com/Andrison1425/CRUD-REACT/".concat(e),{method:"DELETE"});case 4:r(_()),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(1);case 9:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}()}(o))};return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:r}),Object(c.jsx)("td",{children:n}),Object(c.jsxs)("td",{className:"acciones",children:[Object(c.jsx)(s.b,{to:"/productos/editar/".concat(o),className:"btn btn-primary mr-2",onClick:function(){return a(function(e){return function(t){t(w(e))}}(t))},children:"Editar"}),Object(c.jsx)("button",{type:"button",className:"btn btn-danger",onClick:function(){return i()},children:"Eliminar"})]})]})},S=function(){var e=Object(d.b)();Object(n.useEffect)((function(){e(function(){var e=Object(j.a)(l.a.mark((function e(t){var r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(A()),e.prev=1,e.next=4,fetch("https://my-json-server.typicode.com/Andrison1425/CRUD-REACT/");case 4:return r=e.sent,e.next=7,r.json();case 7:c=e.sent,t(P(c)),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(1);case 13:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}())}),[]);var t=Object(d.c)((function(e){return e.productos.productos}));return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("h2",{className:"text-center my-5",children:"Listado Productos"}),Object(c.jsxs)("table",{className:"table table--striped",children:[Object(c.jsx)("thead",{className:"bg-primary table-dark",children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{scope:"col",children:"Nombre"}),Object(c.jsx)("th",{scope:"col",children:"Precio"}),Object(c.jsx)("th",{scope:"col",children:"Acciones"})]})}),Object(c.jsx)("tbody",{children:0===t.lenght?"No hay productos":t.map((function(e){return Object(c.jsx)(k,{producto:e},e.id)}))})]})]})},I=r(14),G=r(3),X=r(21),L=function(e){var t=e.history,r=Object(n.useState)({nombre:"",precio:0}),o=Object(X.a)(r,2),a=o[0],s=o[1],i=Object(d.c)((function(e){return e.productos.loading})),u=Object(d.c)((function(e){return e.productos.error})),b=function(e){s(Object(G.a)(Object(G.a)({},a),{},Object(I.a)({},e.target.name,e.target.value)))},p=Object(d.b)();return Object(c.jsx)("div",{className:"row justify-content-center",children:Object(c.jsx)("div",{className:"col-md-8",children:Object(c.jsx)("div",{className:"card",children:Object(c.jsxs)("div",{className:"card-body",children:[Object(c.jsx)("h2",{className:"text-center mb-4 font-weight-bold",children:"Agregar Nuevo Producto"}),Object(c.jsxs)("form",{onSubmit:function(e){var r;(e.preventDefault(),""===a.nombre.trim()||a.precio<=0)||(p((r=a,function(){var e=Object(j.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(R()),e.prev=1,e.next=4,fetch("https://my-json-server.typicode.com/Andrison1425/CRUD-REACT/",{method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json"}});case 4:t(C(r)),g.a.fire("Correcto","El producto se agreg\xf3","success"),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),t(T(!0)),g.a.fire({icon:"error",title:"Error",text:"Hubo un error"});case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}())),t.push("/"))},children:[Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{children:"Nombre Producto"}),Object(c.jsx)("input",{type:"text",className:"form-control",placeholder:"Nombre Producto",name:"nombre",onChange:b,value:a.name,required:!0})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{children:"Precio Producto"}),Object(c.jsx)("input",{type:"number",className:"form-control",placeholder:"Precio Producto",onChange:b,name:"precio",value:a.precio,required:!0})]}),Object(c.jsx)("button",{type:"submit",className:"btn btn-primary font-weight-bold text-uppercase d-block w-100",children:"Agregar"})]}),!0===i?"Cargando...":null,!0===u?Object(c.jsx)("p",{className:"alert alert-danger p2 mt-4 text-center",children:"Hubo un error"}):null]})})})})},q=function(){var e=Object(u.g)().id,t=Object(d.c)((function(e){return e.productos.productoEditar})),r=Object(d.b)(),o=Object(n.useState)({nombre:t.nombre,precio:t.precio,id:e}),a=Object(X.a)(o,2),s=a[0],i=a[1],b=function(e){i(Object(G.a)(Object(G.a)({},s),{},Object(I.a)({},e.target.name,e.target.value)))};return Object(c.jsx)("div",{className:"row justify-content-center",children:Object(c.jsx)("div",{className:"col-md-8",children:Object(c.jsx)("div",{className:"card",children:Object(c.jsxs)("div",{className:"card-body",children:[Object(c.jsx)("h2",{className:"text-center mb-4 font-weight-bold",children:"Editar Producto"}),Object(c.jsxs)("form",{onSubmit:function(e){e.preventDefault(),r(function(e){return function(){var t=Object(j.a)(l.a.mark((function t(r){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("https://my-json-server.typicode.com/Andrison1425/CRUD-REACT/".concat(e.id),{method:"PUT",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}});case 3:r(U(e)),g.a.fire("Correcto","El producto se edit\xf3","success"),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}(s))},children:[Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{children:"Nombre Producto"}),Object(c.jsx)("input",{type:"text",className:"form-control",placeholder:"Nombre Producto",name:"nombre",onChange:b,required:!0,value:s.nombre})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{children:"Precio Producto"}),Object(c.jsx)("input",{type:"number",onChange:b,className:"form-control",placeholder:"Precio Producto",name:"precio",value:Number(s.precio),required:!0})]}),Object(c.jsx)("button",{type:"submit",className:"btn btn-primary font-weight-bold text-uppercase d-block w-100",children:"Guardar Cambios"})]})]})})})})},J=r(12),M=r(30),B=r(31),H={productos:[],error:!1,loading:!1,idEliminar:null,productoEditar:null};var V=Object(J.c)({productos:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:case h:return Object(G.a)(Object(G.a)({},e),{},{loading:!0});case O:return Object(G.a)(Object(G.a)({},e),{},{loading:!1,productos:[].concat(Object(B.a)(e.productos),[t.payload])});case m:return Object(G.a)(Object(G.a)({},e),{},{loading:!1,error:t.payload});case f:return Object(G.a)(Object(G.a)({},e),{},{productos:t.payload,loading:!1});case x:return Object(G.a)(Object(G.a)({},e),{},{idEliminar:t.payload});case v:return Object(G.a)(Object(G.a)({},e),{},{productos:e.productos.filter((function(t){return t.id!==e.idEliminar}))});case y:return Object(G.a)(Object(G.a)({},e),{},{productoEditar:t.payload});case E:return Object(G.a)(Object(G.a)({},e),{},{productos:e.productos.map((function(e){return e.id===t.payload.id?t.payload:e})),productoEditar:null});default:return e}}}),F=Object(J.e)(V,Object(J.d)(Object(J.a)(M.a),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())),Z=r(32),z=function(e){var t=e.component,r=Object(Z.a)(e,["component"]);return Object(d.c)((function(e){return e.productos.productoEditar}))?Object(c.jsx)(u.b,Object(G.a)(Object(G.a)({},r),{},{component:t})):Object(c.jsx)(u.a,{to:"/"})};var K=function(){return Object(c.jsx)(s.a,{children:Object(c.jsxs)(d.a,{store:F,children:[Object(c.jsx)(i,{}),Object(c.jsx)("div",{className:"container mt-5",children:Object(c.jsxs)(u.d,{children:[Object(c.jsx)(u.b,{exact:!0,path:"/CRUD-REACT/",component:S}),Object(c.jsx)(u.b,{exact:!0,path:"/CRUD-REACT/productos/nuevo",component:L}),Object(c.jsx)(z,{exact:!0,path:"/CRUD-REACT/productos/editar/:id",component:q})]})})]})})};a.a.render(Object(c.jsx)(K,{}),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.483a145d.chunk.js.map